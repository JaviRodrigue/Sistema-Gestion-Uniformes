using System.Collections.Generic;
using System.Linq;
using VentasApp.Application.Interfaces.Repositorios;
using VentasApp.Domain.Modelo.Cliente;

namespace VentasApp.Application.CasoDeUso.Telefono;

public class ObtenerTelefonosPorClienteCasoDeUso
{
    public readonly ITelefonoRepository _repository;

    public ObtenerTelefonosPorClienteCasoDeUso(ITelefonoRepository repo)
    {
        _repository = repo;
    }

    public async Task<List<string>> EjecutarAsync(int clienteId)
    {
        var telefonos = await _repository.ObtenerTelefonosPorClienteId(clienteId);
        return telefonos?.Select(t => t.Numero).ToList() ?? new List<string>();
    }
}
